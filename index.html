<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Siquijor Online Pedicab</title>
<style>
  body { font-family: Arial; background:#f7f7f7; padding:20px; }
  header { text-align:center; padding:20px; background:linear-gradient(90deg,#2e7d32,#81c784); border-radius:15px; color:white; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
  header h1 { font-size:3em; margin:0; font-weight:bold; }
  header h2 { font-size:1.3em; font-style:italic; margin-top:5px; color:#e0f2f1; }
  .card { background:#fff; padding:20px; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.1); max-width:500px; margin:auto; }
  label { display:block; margin-top:10px; font-weight:600; }
  input, select, textarea { width:100%; padding:10px; margin-top:5px; border-radius:8px; border:1px solid #ccc; }
  textarea { resize: vertical; }
  button { padding:12px 20px; margin-top:15px; width:100%; background:#2e7d32; color:white; font-size:16px; border:none; border-radius:10px; cursor:pointer; }
  .success-popup { display:none; background:#e8fbef; border-left:4px solid #2e7d32; padding:10px; margin-top:15px; text-align:center; font-weight:bold; }
  .tip-section { margin-top:30px; text-align:center; }
  .tip-section button { background:#ff8a00; margin:5px 0; }
  .disclaimer { font-size:0.9em; color:#555; margin-top:10px; text-align:center; }
</style>
</head>
<body>

<header>
  <h1>Siquijor Online Pedicab</h1>
  <h2>Local rides & deliveries made simple</h2>
</header>

<div class="card">
  <form id="pedicabForm">
    <label>Customer Name*</label>
    <input type="text" id="customerName" required>

    <label>Contact Number*</label>
    <input type="tel" id="contactNumber" required>

    <label>Email Address*</label>
    <input type="email" id="emailAddress" required>

    <label>Pickup Location*</label>
    <input type="text" id="pickupLocation" required>

    <label>Dropoff Location*</label>
    <input type="text" id="dropoffLocation" required>

    <label>Number of Passengers*</label>
    <input type="number" id="passengers" min="1" max="6" value="1" required>

    <label>Preferred Contact Method*</label>
    <select id="contactMethod" required>
      <option value="">Select</option>
      <option value="Viber">Viber</option>
      <option value="WhatsApp">WhatsApp</option>
      <option value="Email">Email</option>
    </select>

    <label>Note (optional)</label>
    <textarea id="note" rows="3" placeholder="Any extra details for your booking"></textarea>

    <input type="hidden" id="dateTime">

    <button type="button" id="submitBtn">Send Request</button>

    <div class="disclaimer">
      üîí Your information is used only for booking and will not be shared.<br>
      For urgent bookings call your local number.
    </div>
  </form>

  <div class="success-popup" id="successPopup">
    ‚úî Your request has been sent successfully!
  </div>

  <div class="tip-section">
    <h3>Customer Care Hotline</h3>
    <p>MPN: 09652367470</p>
    <p>Email: siquijorpedicab@gmail.com</p>
    <p>Tips (Optional)</p>
    <button onclick="copyNumber('09652367470','GCash')">Copy GCash Number</button>
    <button onclick="copyNumber('639652367470','PalawanPay')">Copy PalawanPay Number</button>
  </div>
</div>

<script>
const WEB_URL = "https://script.google.com/macros/s/AKfycbwKn-V2V6kjYPgQoqupOHf00EK6pdB5OMi3KUekPyLSgy5zR8xLCZERAfE7ig2qsM-olA/exec"; // Replace with your Web App URL
const API_SECRET = "siquijor@2025";

// Autofill date/time
document.getElementById("dateTime").value = new Date().toISOString();

function copyNumber(number,type){
  navigator.clipboard.writeText(number);
  alert(type+" number copied: "+number);
}

function validateForm(){
  return document.getElementById("pedicabForm").checkValidity();
}

async function sendRequest(){
  if(!validateForm()){
    alert("Please fill all required fields.");
    return;
  }

  const payload = {
    requestType:"ride",
    customerName:document.getElementById("customerName").value,
    contactNumber:document.getElementById("contactNumber").value,
    emailAddress:document.getElementById("emailAddress").value,
    pickupLocation:document.getElementById("pickupLocation").value,
    dropoffLocation:document.getElementById("dropoffLocation").value,
    passengers:document.getElementById("passengers").value,
    contactMethod:document.getElementById("contactMethod").value,
    note:document.getElementById("note").value,
    dateTime:document.getElementById("dateTime").value,
    secretKey:API_SECRET
  };

  try {
    await fetch(WEB_URL,{
      method:"POST",
      mode:"no-cors",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify(payload)
    });
    document.getElementById("successPopup").style.display = "block";
    document.getElementById("pedicabForm").reset();
    document.getElementById("dateTime").value = new Date().toISOString();
  } catch(err){
    alert("‚ùå ERROR sending: "+err);
  }
}

document.getElementById("submitBtn").onclick = sendRequest;
</script>

</body>
</html>
